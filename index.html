<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุณุฌู ูุชุงุจุนุฉ ุงูุทูุงุจ</title>
    <link rel="stylesheet" href="index.css">
    <script type="module" src="index.tsx"></script>
</head>
<body>
    <div class="container">
        <h1>ุณุฌู ูุชุงุจุนุฉ ุงูุทูุงุจ</h1>
        <div class="class-tabs-container">
            <!-- Class tabs will be inserted here by TypeScript -->
        </div>
        <div class="controls-container">
            <button id="add-student-btn" class="control-btn">ุฅุถุงูุฉ ุทุงูุจ</button>
            <button id="import-students-btn" class="control-btn">ุงุณุชูุฑุงุฏ ุฃุณูุงุก</button>
            <button id="increase-fields-btn" class="control-btn">ุฒูุงุฏุฉ ุงูุญุตุต (+5)</button>
            <button id="export-csv-btn" class="control-btn">ุชุตุฏูุฑ ุฅูู CSV</button>
            <button id="print-table-btn" class="control-btn">ุทุจุงุนุฉ ุงูุณุฌู ๐จ๏ธ</button>
            <button id="import-data-btn" class="control-btn">ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</button>
            <button id="export-data-btn" class="control-btn">ุชุตุฏูุฑ ุงูุจูุงูุงุช</button>
            <button id="share-app-btn" class="control-btn">ูุดุงุฑูุฉ ุงูุชุทุจูู ๐ค</button>
            <button id="open-in-new-window-btn" class="control-btn">ูุชุญ ุจูุงูุฐุฉ ูุณุชููุฉ ๐</button>
            <button id="clear-data-btn" class="control-btn danger">ูุณุญ ุจูุงูุงุช ุงููุตู</button>
            <input type="file" id="import-file-input" accept=".json" style="display: none;">
        </div>
        <div class="table-container">
            <table id="students-table">
                <thead>
                    <tr id="table-dates-row">
                        <!-- Date input headers will be inserted here by TypeScript -->
                    </tr>
                    <tr id="table-header-row">
                        <!-- Header cells will be inserted here by TypeScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Student rows will be inserted here by TypeScript -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirm-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-content">
            <h3 id="modal-title">ุชุฃููุฏ ุงูุญุฐู</h3>
            <p id="modal-text">ูู ุฃูุช ูุชุฃูุฏ ูู ุฃูู ุชุฑูุฏ ุญุฐู ูุฐุง ุงูุทุงูุจุ</p>
            <div class="modal-actions">
                <button id="modal-cancel-btn" class="control-btn">ุฅูุบุงุก</button>
                <button id="modal-confirm-btn" class="control-btn danger">ุชุฃููุฏ ุงูุญุฐู</button>
            </div>
        </div>
    </div>

    <!-- Import Students Modal -->
    <div id="import-students-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="import-modal-title">
        <div class="modal-content">
            <h3 id="import-modal-title">ุงุณุชูุฑุงุฏ ุฃุณูุงุก ุงูุทูุงุจ</h3>
            <p>ุงูุตู ูุงุฆูุฉ ุงูุฃุณูุงุก ููุง. ุถุน ูู ุงุณู ูู ุณุทุฑ ุฌุฏูุฏ.</p>
            <textarea id="students-paste-area" rows="10" placeholder="ุงูุทุงูุจ ุงูุฃูู
ุงูุทุงูุจ ุงูุซุงูู
ุงูุทุงูุจ ุงูุซุงูุซ
..."></textarea>
            <div class="modal-actions">
                <button id="modal-import-cancel-btn" class="control-btn">ุฅูุบุงุก</button>
                <button id="modal-import-confirm-btn" class="control-btn">ุงุณุชูุฑุงุฏ</button>
            </div>
        </div>
    </div>
    
    <!-- Student Report Modal -->
    <div id="report-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="report-modal-title">
        <div class="modal-content report-modal-content">
            <div id="printable-report">
                <h2 id="report-modal-title" class="report-main-title">ุชูุฑูุฑ ูุชุงุจุนุฉ ุงูุทุงูุจ</h2>
                <!-- Report header info -->
                <div class="report-header">
                    <p><strong>ุงุณู ุงูุทุงูุจ:</strong> <span id="report-student-name"></span></p>
                    <p><strong>ุงููุตู:</strong> <span id="report-class-name"></span></p>
                    <p><strong>ุชุงุฑูุฎ ุงูุชูุฑูุฑ:</strong> <span id="report-date"></span></p>
                </div>
                <!-- Summary section -->
                <h3>ููุฎุต ุงูุฃุฏุงุก</h3>
                <div class="report-summary">
                    <!-- Positive points -->
                    <div class="summary-card positive">
                        <h4>ุงูููุงุท ุงูุฅูุฌุงุจูุฉ</h4>
                        <p><strong>ุงููุดุงุฑูุงุช:</strong> <span id="report-musharaka"></span></p>
                        <p><strong>ุงููุงุฌุจุงุช:</strong> <span id="report-wajibat"></span></p>
                        <p><strong>ุงูุจุญูุซ:</strong> <span id="report-buhuth"></span></p>
                        <p class="total"><strong>ุงููุฌููุน:</strong> <span id="report-positive-points"></span></p>
                    </div>
                    <!-- Negative points -->
                    <div class="summary-card negative">
                         <h4>ุงูููุงุท ุงูุณูุจูุฉ</h4>
                        <p><strong>ุงูุชุฃุฎุฑ:</strong> <span id="report-taakhur"></span></p>
                        <p><strong>ุงูููู:</strong> <span id="report-nawm"></span></p>
                        <p><strong>ุงุณุชุฎุฏุงู ุงูุฌูุงู:</strong> <span id="report-jawwal"></span></p>
                        <p class="total"><strong>ุงููุฌููุน:</strong> <span id="report-negative-points"></span></p>
                    </div>
                </div>
                <div class="report-final-score">
                    <strong>ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:</strong> <span id="report-final-points"></span>
                </div>
                <!-- Detailed Log -->
                <h3>ุณุฌู ุงูุญุตุต ุงูููุตู</h3>
                <div class="table-container report-table-container">
                    <table id="report-details-table">
                        <thead>
                            <tr>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงูุญุถูุฑ</th>
                                <th>ุงูุชูุงุตูู</th>
                            </tr>
                        </thead>
                        <tbody id="report-details-tbody">
                            <!-- Rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-actions no-print">
                <button id="modal-report-close-btn" class="control-btn">ุฅุบูุงู</button>
                <button id="modal-report-print-btn" class="control-btn">ุทุจุงุนุฉ</button>
            </div>
        </div>
    </div>
</body>
</html>